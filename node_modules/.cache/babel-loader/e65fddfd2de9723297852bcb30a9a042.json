{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport Fuse from 'fuse.js';\n\nconst useApp = () => {\n  _s();\n\n  const [response, setResponse] = useState([]);\n  const [inputSearch, setInputSearch] = useState('');\n  const [searchResult, setSearchResult] = useState([]);\n  const [page, setPage] = useState('');\n\n  const getApi = () => {\n    try {\n      fetch('https://prototype.sbulltech.com/api/v2/instruments').then(function (response) {\n        return response.text();\n      }).then(function (data) {\n        const arr = data.split('\\n');\n        let array = [];\n        arr.forEach((element, index) => {\n          const companyInfo = element.split(',');\n\n          if (companyInfo[0] && index !== 0) {\n            array = [...array, {\n              symbol: companyInfo[0],\n              name: companyInfo[1],\n              sector: companyInfo[2],\n              validTill: companyInfo[3]\n            }];\n          }\n        });\n        setResponse(array);\n      });\n    } catch (error) {}\n  };\n\n  useEffect(() => {\n    getApi();\n  }, []);\n  useEffect(() => {\n    const fuse = new Fuse(response, {\n      keys: ['symbol', 'name'],\n      shouldSort: true,\n      includeScore: true,\n      threshold: 0.5\n    });\n    const results = fuse.search(inputSearch);\n    setSearchResult(results);\n  }, [inputSearch, response]);\n  return {\n    searchResult,\n    inputSearch,\n    setInputSearch,\n    response,\n    page,\n    setPage\n  };\n};\n\n_s(useApp, \"APfGoJgTVKrVscxp/kkJS/8EAIA=\");\n\nexport default useApp;","map":{"version":3,"names":["useEffect","useState","Fuse","useApp","response","setResponse","inputSearch","setInputSearch","searchResult","setSearchResult","page","setPage","getApi","fetch","then","text","data","arr","split","array","forEach","element","index","companyInfo","symbol","name","sector","validTill","error","fuse","keys","shouldSort","includeScore","threshold","results","search"],"sources":["/Users/shivamsingh/stocks-application/src/useApp.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport Fuse from 'fuse.js';\n\nconst useApp = () =>{\n    const [response, setResponse] = useState([]);\n    const [inputSearch, setInputSearch] = useState('');\n    const [searchResult, setSearchResult] = useState([]);\n    const [page, setPage] = useState('');\n\n    const getApi = () => {\n        try {\n            \n            fetch('https://prototype.sbulltech.com/api/v2/instruments')\n            .then(function(response) {\n                return response.text();\n            }).then(function(data) {\n                const arr = data.split('\\n');\n                let array = [];\n                arr.forEach((element, index) => {\n                const companyInfo = element.split(',');\n                if(companyInfo[0] && index !== 0){\n                    array = [\n                    ...array,\n                    {\n                        symbol: companyInfo[0],\n                        name: companyInfo[1],\n                        sector: companyInfo[2],\n                        validTill: companyInfo[3],\n                    }\n                    ]; \n                } \n                });\n    \n                setResponse(array);\n            });\n        } catch (error) {\n            \n        }\n    };\n  \n    useEffect(() => {\n        getApi();\n    }, []);\n\n    useEffect(() => {\n        const fuse = new Fuse(response, {\n        keys: ['symbol', 'name'],\n        shouldSort: true,\n        includeScore: true,\n        threshold: 0.5,\n        });\n\n        const results = fuse.search(inputSearch);\n        setSearchResult(results);\n    }, [inputSearch, response]);\n\n    return {\n        searchResult,\n        inputSearch, \n        setInputSearch, \n        response, \n        page,\n        setPage,\n    };\n};\n\nexport default useApp;"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,IAAP,MAAiB,SAAjB;;AAEA,MAAMC,MAAM,GAAG,MAAK;EAAA;;EAChB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BJ,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACK,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAACO,YAAD,EAAeC,eAAf,IAAkCR,QAAQ,CAAC,EAAD,CAAhD;EACA,MAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;;EAEA,MAAMW,MAAM,GAAG,MAAM;IACjB,IAAI;MAEAC,KAAK,CAAC,oDAAD,CAAL,CACCC,IADD,CACM,UAASV,QAAT,EAAmB;QACrB,OAAOA,QAAQ,CAACW,IAAT,EAAP;MACH,CAHD,EAGGD,IAHH,CAGQ,UAASE,IAAT,EAAe;QACnB,MAAMC,GAAG,GAAGD,IAAI,CAACE,KAAL,CAAW,IAAX,CAAZ;QACA,IAAIC,KAAK,GAAG,EAAZ;QACAF,GAAG,CAACG,OAAJ,CAAY,CAACC,OAAD,EAAUC,KAAV,KAAoB;UAChC,MAAMC,WAAW,GAAGF,OAAO,CAACH,KAAR,CAAc,GAAd,CAApB;;UACA,IAAGK,WAAW,CAAC,CAAD,CAAX,IAAkBD,KAAK,KAAK,CAA/B,EAAiC;YAC7BH,KAAK,GAAG,CACR,GAAGA,KADK,EAER;cACIK,MAAM,EAAED,WAAW,CAAC,CAAD,CADvB;cAEIE,IAAI,EAAEF,WAAW,CAAC,CAAD,CAFrB;cAGIG,MAAM,EAAEH,WAAW,CAAC,CAAD,CAHvB;cAIII,SAAS,EAAEJ,WAAW,CAAC,CAAD;YAJ1B,CAFQ,CAAR;UASH;QACA,CAbD;QAeAlB,WAAW,CAACc,KAAD,CAAX;MACH,CAtBD;IAuBH,CAzBD,CAyBE,OAAOS,KAAP,EAAc,CAEf;EACJ,CA7BD;;EA+BA5B,SAAS,CAAC,MAAM;IACZY,MAAM;EACT,CAFQ,EAEN,EAFM,CAAT;EAIAZ,SAAS,CAAC,MAAM;IACZ,MAAM6B,IAAI,GAAG,IAAI3B,IAAJ,CAASE,QAAT,EAAmB;MAChC0B,IAAI,EAAE,CAAC,QAAD,EAAW,MAAX,CAD0B;MAEhCC,UAAU,EAAE,IAFoB;MAGhCC,YAAY,EAAE,IAHkB;MAIhCC,SAAS,EAAE;IAJqB,CAAnB,CAAb;IAOA,MAAMC,OAAO,GAAGL,IAAI,CAACM,MAAL,CAAY7B,WAAZ,CAAhB;IACAG,eAAe,CAACyB,OAAD,CAAf;EACH,CAVQ,EAUN,CAAC5B,WAAD,EAAcF,QAAd,CAVM,CAAT;EAYA,OAAO;IACHI,YADG;IAEHF,WAFG;IAGHC,cAHG;IAIHH,QAJG;IAKHM,IALG;IAMHC;EANG,CAAP;AAQH,CA7DD;;GAAMR,M;;AA+DN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}