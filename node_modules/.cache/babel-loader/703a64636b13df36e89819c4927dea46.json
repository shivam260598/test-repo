{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Fuse from \"fuse.js\";\n\nconst getApi = setResponse => {\n  try {\n    fetch(\"https://prototype.sbulltech.com/api/v2/instruments\").then(function (response) {\n      return response.text();\n    }).then(function (data) {\n      const arr = data.split(\"\\n\");\n      let array = [];\n      arr.forEach((element, index) => {\n        const companyInfo = element.split(\",\");\n\n        if (companyInfo[0] && index !== 0) {\n          array = [...array, {\n            symbol: companyInfo[0],\n            name: companyInfo[1],\n            sector: companyInfo[2],\n            validTill: companyInfo[3]\n          }];\n        }\n      });\n      setResponse(array);\n    });\n  } catch (error) {\n    console.log(\"error :: \", error);\n  }\n};\n\nconst useApp = () => {\n  _s();\n\n  const [response, setResponse] = useState([]);\n  const [inputSearch, setInputSearch] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]);\n  const [page, setPage] = useState(\"\");\n  useEffect(() => {\n    getApi(setResponse);\n  }, []);\n  useEffect(() => {\n    const fuse = new Fuse(response, {\n      keys: [\"symbol\", \"name\"],\n      shouldSort: true,\n      includeScore: true,\n      threshold: 0.5\n    });\n    const results = fuse.search(inputSearch);\n    setSearchResult(results);\n  }, [inputSearch, response]);\n  return {\n    searchResult,\n    inputSearch,\n    setInputSearch,\n    response,\n    page,\n    setPage\n  };\n};\n\n_s(useApp, \"QRHpss2jqjM5Qyr8JFB68nIQwzg=\");\n\nexport default useApp;","map":{"version":3,"names":["useEffect","useState","Fuse","getApi","setResponse","fetch","then","response","text","data","arr","split","array","forEach","element","index","companyInfo","symbol","name","sector","validTill","error","console","log","useApp","inputSearch","setInputSearch","searchResult","setSearchResult","page","setPage","fuse","keys","shouldSort","includeScore","threshold","results","search"],"sources":["/Users/shivamsingh/stocks-application/src/useApp.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Fuse from \"fuse.js\";\n\nconst getApi = (setResponse) => {\n    try {\n      fetch(\"https://prototype.sbulltech.com/api/v2/instruments\")\n        .then(function (response) {\n          return response.text();\n        })\n        .then(function (data) {\n          const arr = data.split(\"\\n\");\n          let array = [];\n          arr.forEach((element, index) => {\n            const companyInfo = element.split(\",\");\n            if (companyInfo[0] && index !== 0) {\n              array = [\n                ...array,\n                {\n                  symbol: companyInfo[0],\n                  name: companyInfo[1],\n                  sector: companyInfo[2],\n                  validTill: companyInfo[3],\n                },\n              ];\n            }\n          });\n\n          setResponse(array);\n        });\n    } catch (error) {\n      console.log(\"error :: \", error);\n    }\n  };\n\nconst useApp = () => {\n  const [response, setResponse] = useState([]);\n  const [inputSearch, setInputSearch] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]);\n  const [page, setPage] = useState(\"\");\n\n  \n\n  useEffect(() => {\n    getApi(setResponse);\n  }, []);\n\n  useEffect(() => {\n    const fuse = new Fuse(response, {\n      keys: [\"symbol\", \"name\"],\n      shouldSort: true,\n      includeScore: true,\n      threshold: 0.5,\n    });\n\n    const results = fuse.search(inputSearch);\n    setSearchResult(results);\n  }, [inputSearch, response]);\n\n  return {\n    searchResult,\n    inputSearch,\n    setInputSearch,\n    response,\n    page,\n    setPage,\n  };\n};\n\nexport default useApp;\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,IAAP,MAAiB,SAAjB;;AAEA,MAAMC,MAAM,GAAIC,WAAD,IAAiB;EAC5B,IAAI;IACFC,KAAK,CAAC,oDAAD,CAAL,CACGC,IADH,CACQ,UAAUC,QAAV,EAAoB;MACxB,OAAOA,QAAQ,CAACC,IAAT,EAAP;IACD,CAHH,EAIGF,IAJH,CAIQ,UAAUG,IAAV,EAAgB;MACpB,MAAMC,GAAG,GAAGD,IAAI,CAACE,KAAL,CAAW,IAAX,CAAZ;MACA,IAAIC,KAAK,GAAG,EAAZ;MACAF,GAAG,CAACG,OAAJ,CAAY,CAACC,OAAD,EAAUC,KAAV,KAAoB;QAC9B,MAAMC,WAAW,GAAGF,OAAO,CAACH,KAAR,CAAc,GAAd,CAApB;;QACA,IAAIK,WAAW,CAAC,CAAD,CAAX,IAAkBD,KAAK,KAAK,CAAhC,EAAmC;UACjCH,KAAK,GAAG,CACN,GAAGA,KADG,EAEN;YACEK,MAAM,EAAED,WAAW,CAAC,CAAD,CADrB;YAEEE,IAAI,EAAEF,WAAW,CAAC,CAAD,CAFnB;YAGEG,MAAM,EAAEH,WAAW,CAAC,CAAD,CAHrB;YAIEI,SAAS,EAAEJ,WAAW,CAAC,CAAD;UAJxB,CAFM,CAAR;QASD;MACF,CAbD;MAeAZ,WAAW,CAACQ,KAAD,CAAX;IACD,CAvBH;EAwBD,CAzBD,CAyBE,OAAOS,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,KAAzB;EACD;AACF,CA7BH;;AA+BA,MAAMG,MAAM,GAAG,MAAM;EAAA;;EACnB,MAAM,CAACjB,QAAD,EAAWH,WAAX,IAA0BH,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACwB,WAAD,EAAcC,cAAd,IAAgCzB,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAAC0B,YAAD,EAAeC,eAAf,IAAkC3B,QAAQ,CAAC,EAAD,CAAhD;EACA,MAAM,CAAC4B,IAAD,EAAOC,OAAP,IAAkB7B,QAAQ,CAAC,EAAD,CAAhC;EAIAD,SAAS,CAAC,MAAM;IACdG,MAAM,CAACC,WAAD,CAAN;EACD,CAFQ,EAEN,EAFM,CAAT;EAIAJ,SAAS,CAAC,MAAM;IACd,MAAM+B,IAAI,GAAG,IAAI7B,IAAJ,CAASK,QAAT,EAAmB;MAC9ByB,IAAI,EAAE,CAAC,QAAD,EAAW,MAAX,CADwB;MAE9BC,UAAU,EAAE,IAFkB;MAG9BC,YAAY,EAAE,IAHgB;MAI9BC,SAAS,EAAE;IAJmB,CAAnB,CAAb;IAOA,MAAMC,OAAO,GAAGL,IAAI,CAACM,MAAL,CAAYZ,WAAZ,CAAhB;IACAG,eAAe,CAACQ,OAAD,CAAf;EACD,CAVQ,EAUN,CAACX,WAAD,EAAclB,QAAd,CAVM,CAAT;EAYA,OAAO;IACLoB,YADK;IAELF,WAFK;IAGLC,cAHK;IAILnB,QAJK;IAKLsB,IALK;IAMLC;EANK,CAAP;AAQD,CAhCD;;GAAMN,M;;AAkCN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}